[server]
# 协议 (http, https, h2, socket)
protocol = http

# 监听的IP地址，留空表示监听所有接口
http_addr =

# 监听端口
http_port = 3000

# 公共访问的域名
domain = localhost

# 完整的公共访问URL
root_url = http://localhost/grafana/

# 静态文件的根路径
static_root_path = public

# 启用gzip
enable_gzip = false

# 证书文件路径
cert_file =
cert_key =

# Unix socket路径
socket = /tmp/grafana.sock

[database]
# 数据库类型: mysql, postgres, sqlite3
type = sqlite3

# 数据库主机
host = 127.0.0.1:3306

# 数据库名称
name = grafana

# 数据库用户
user = root

# 数据库密码
password =

# 对于"postgres"，使用"disable"、"require"或"verify-full"
# 对于"mysql"，使用"true"、"false"或"skip-verify"
ssl_mode = disable

# 数据库连接的最大空闲连接数
max_idle_conn = 2

# 数据库连接的最大打开连接数
max_open_conn =

# 连接可重用的最长时间
conn_max_lifetime = 14400

# 日志查询
log_queries =

# SQLite特定设置
path = /var/lib/grafana/grafana.db

[session]
# 会话提供者: memory, file, redis, mysql, postgres
provider = file

# 提供者配置
provider_config = sessions

# 会话cookie名称
cookie_name = grafana_sess

# 会话cookie安全
cookie_secure = false

# 会话生命周期
session_life_time = 86400

# GC间隔
gc_interval_time = 86400

# 连接超时
conn_max_lifetime = 14400

[dataproxy]
# 数据代理日志
logging = false

# 数据代理超时
timeout = 30

# 数据代理发送用户头
send_user_header = false

[analytics]
# 服务器报告，向stats.grafana.org发送使用计数器
reporting_enabled = false

# 检查更新
check_for_updates = false

# Google Analytics通用分析跟踪代码
google_analytics_ua_id =

# Google Tag Manager ID
google_tag_manager_id =

[security]
# 默认管理员用户，在首次启动时创建
admin_user = admin

# 默认管理员密码，在首次启动时更改
admin_password = admin

# 用于签署某些数据源设置（如secrets）的密钥
secret_key = SW2YcwTIb9zpOOhoPsMm

# 禁用创建初始管理员用户
disable_initial_admin_creation = false

# 默认管理员邮箱，在首次启动时使用
admin_email = admin@localhost

# 登录记住我cookie名称
login_remember_days = 7

# 登录cookie名称
login_cookie_name = grafana_session

# 强制使用HTTPS重定向
force_https_redirect = false

# 禁用重力头像
disable_gravatar = false

# 数据源代理白名单
data_source_proxy_whitelist =

# 禁用暴力破解登录保护
disable_brute_force_login_protection = false

# Cookie SameSite属性
cookie_samesite = lax

# 允许嵌入
allow_embedding = false

# 严格传输安全
strict_transport_security = false

# 严格传输安全最大年龄
strict_transport_security_max_age_seconds = 86400

# 严格传输安全预加载
strict_transport_security_preload = false

# 严格传输安全包含子域
strict_transport_security_subdomains = false

# X-Content-Type-Options
x_content_type_options = true

# X-XSS-Protection
x_xss_protection = true

[snapshots]
# 快照分享到external_snapshot_url
external_enabled = true
external_snapshot_url = https://snapshots-origin.raintank.io
external_snapshot_name = Publish to snapshot.raintank.io

# 从快照中删除过期时间
remove_expired = true

[dashboards]
# 版本保留的天数
versions_to_keep = 20

# 最小刷新间隔
min_refresh_interval = 5s

# 默认主页仪表板路径
default_home_dashboard_path =

[users]
# 禁用用户注册/注册
allow_sign_up = false

# 允许用户邀请其他人
allow_org_create = false

# 设置为true以自动将新用户分配给默认组织（id 1）
auto_assign_org = true

# 新用户的默认角色
auto_assign_org_role = Viewer

# 需要邮箱验证才能注册
verify_email_enabled = false

# 登录提示
login_hint = email or username
password_hint = password

# 默认UI主题（"dark"或"light"）
default_theme = dark

# 外部用户管理，禁用用户注册和管理员创建用户
external_manage_link_url =
external_manage_link_name =
external_manage_info =

# 查看器可以编辑/检查仪表板设置。不能保存仪表板。
viewers_can_edit = false

# 编辑器可以管理文件夹、团队和组织设置
editors_can_admin = false

# 全局用户限制
global_user_limit = -1

[auth]
# 登录cookie名称
login_cookie_name = grafana_session

# 登录最大非活动生命周期
login_maximum_inactive_lifetime_duration =

# 登录最大生命周期
login_maximum_lifetime_duration =

# 令牌轮换间隔分钟数
token_rotation_interval_minutes = 10

# 禁用登录表单
disable_login_form = true

# 禁用注销菜单
disable_signout_menu = false

# URL重定向后注销
signout_redirect_url =

# OAuth自动登录
oauth_auto_login = false

# OAuth状态最大年龄秒数
oauth_state_cookie_max_age = 600

# API密钥最大秒数生存时间
api_key_max_seconds_to_live = -1

[auth.anonymous]
# 启用匿名访问
enabled = false

# 指定组织名称，应该用于未经身份验证的用户
org_name = Main Org.

# 指定角色用于未经身份验证的用户
org_role = Viewer

# 掩码客户端IP，有用的当你想隐藏访问日志中的IP
hide_version = false

[auth.proxy]
# 启用代理身份验证
enabled = true

# HTTP头名称，将包含用户名或电子邮件
header_name = X-WEBAUTH-USER

# HTTP头属性，指定用户属性：用户名、电子邮件
header_property = username

# 自动注册用户，如果用户不存在
auto_sign_up = true

# 如果设置为true，将同步用户信息
sync_ttl = 60

# 限制到这些IP和网络（CIDR语法）
whitelist = 127.0.0.1, ::1

# 可选的HTTP头名称，包含用户全名
headers = Name:X-WEBAUTH-NAME Email:X-WEBAUTH-EMAIL Role:X-WEBAUTH-ROLE

# 非ASCII字符的头编码
headers_encoded = false

# 启用登录令牌
enable_login_token = false

[auth.basic]
# 启用基本身份验证
enabled = false

[auth.ldap]
# 启用LDAP身份验证
enabled = false
# LDAP配置文件路径
config_file = /etc/grafana/ldap.toml
# 允许注册
allow_sign_up = true

[smtp]
# 启用SMTP
enabled = false
host = localhost:587
user =
# 如果密码包含#或;，则需要用三引号包装
password =
cert_file =
key_file =
skip_verify = false
from_address = admin@grafana.localhost
from_name = Grafana
# EHLO身份
ehlo_identity = dashboard.example.com
# SMTP启动TLS策略（默认为空，NoStartTLS）
# 可用值：NoStartTLS, OpportunisticStartTLS, MandatoryStartTLS
startTLS_policy =

[emails]
# 欢迎邮件主题
welcome_email_on_sign_up = false
templates_pattern = emails/*.html

[log]
# "console"、"file"、"syslog"。默认为console和file
# 使用空格分隔多个模式，例如"console file"
mode = console file

# "debug"、"info"、"warn"、"error"、"critical"，默认为"info"
level = info

# 可选设置以设置不同的级别用于特定记录器。例如：
# filters = sqlstore:debug
filters =

# 对于"console"模式
[log.console]
level =

# 日志行格式，有效选项为text、console和json
format = console

# 对于"file"模式
[log.file]
level =

# 日志行格式，有效选项为text、console和json
format = text

# 此启用自动日志轮换（切换日志文件）
log_rotate = true

# 单个文件的最大大小，默认为256MB
max_size_shift = 28

# 要保留的最大日志文件数，默认为7
max_lines = 1000000

# 每日轮换日志
daily_rotate = true

# 过期的日志文件保留天数，默认为7
max_days = 7

[log.syslog]
level =

# 日志行格式，有效选项为text、console和json
format = text

# Syslog网络类型和地址。这可以是udp、tcp或unix。如果留空，将使用默认的unix端点。
network =
address =

# Syslog设施。user、daemon和local0到local7有效。
facility =

# Syslog标签。默认情况下，使用进程名称。
tag =

[quota]
# 启用配额
enabled = false

# 限制每个组织的用户数量。
org_user = 10

# 限制每个组织的仪表板数量。
org_dashboard = 100

# 限制每个组织的数据源数量。
org_data_source = 10

# 限制每个组织的API密钥数量。
org_api_key = 10

# 限制每个用户的组织数量。
user_org = 10

# 全局用户限制。
global_user = -1

# 全局组织限制。
global_org = -1

# 全局仪表板限制。
global_dashboard = -1

# 全局API密钥限制。
global_api_key = -1

# 全局会话限制。
global_session = -1

[alerting]
# 禁用警报引擎和Web UI
enabled = false

# 使警报引擎和Web UI只读
execute_alerts = true

# 默认设置为30秒。限制警报规则评估的超时时间。
evaluation_timeout_seconds = 30

# 默认设置为10。限制并发警报规则评估的数量。
max_concurrent_evaluations = 10

# 默认设置为5。限制每个规则的警报实例数量。
max_annotation_age =

# 默认设置为0。配置多长时间保留警报注释。设置为0以保留所有警报注释。
max_annotations_to_keep =

[explore]
# 启用Explore部分
enabled = true

[help]
# 启用帮助菜单
enabled = true

[profile]
# 启用分析
enabled = false

[query_history]
# 启用查询历史
enabled = true

[unified_alerting]
# 启用统一警报。当启用时，您应该禁用传统警报
enabled = true

# 指定警报规则评估的频率。
evaluation_timeout = 30s

# 指定警报规则评估的最大超时时间。
max_concurrent_evaluations = 10

# 指定警报规则评估的最小间隔。
min_interval = 10s

[server_side_rendering]
# 启用服务器端渲染
enabled = false

# 渲染服务的URL
server_url =

# 回调URL
callback_url =

# 并发渲染请求限制
concurrent_render_request_limit = 30

[live]
# 最大连接数到Grafana Live WebSocket端点每个Grafana服务器实例。参见https://grafana.com/docs/grafana/latest/live/live-ha-setup/了解详细信息。
max_connections = 100

# 允许的来源列表
allowed_origins =

[feature_toggles]
# 启用功能切换
enable = publicDashboards